<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snooker Scorer</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Home View -->
  <div id="home-view" class="view">
    <div class="container">
      <header class="app-header">
        <h1>üé± Snooker Scorer</h1>
        <p class="subtitle">Professional Match Tracking</p>
      </header>
      
      <div class="home-actions">
        <button id="new-match-btn" class="btn btn-primary btn-large">
          <span class="btn-icon">‚ûï</span>
          New Match
        </button>
        <button id="load-match-btn" class="btn btn-secondary btn-large" style="display: none;">
          <span class="btn-icon">‚ñ∂</span>
          Resume Current Match
        </button>
        <button id="import-match-btn" class="btn btn-secondary btn-large">
          <span class="btn-icon">üì•</span>
          Import Match
        </button>
        <button id="view-history-btn" class="btn btn-secondary btn-large">
          <span class="btn-icon">üìã</span>
          Match History
        </button>
      </div>
    </div>
  </div>

  <!-- Setup View -->
  <div id="setup-view" class="view">
    <div class="container">
      <header class="view-header">
        <h2>Match Setup</h2>
      </header>

      <form id="setup-form" class="setup-form">
        <div class="form-group">
          <label for="player1-name">Player 1 Name</label>
          <input type="text" id="player1-name" class="form-input" placeholder="Enter player 1 name" required>
        </div>

        <div class="form-group">
          <label for="player2-name">Player 2 Name</label>
          <input type="text" id="player2-name" class="form-input" placeholder="Enter player 2 name" required>
        </div>

        <div class="form-group">
          <label for="best-of">Best Of</label>
          <select id="best-of" class="form-select">
            <option value="3">Best of 3</option>
            <option value="5">Best of 5</option>
            <option value="7" selected>Best of 7</option>
            <option value="9">Best of 9</option>
            <option value="11">Best of 11</option>
            <option value="13">Best of 13</option>
            <option value="15">Best of 15</option>
            <option value="17">Best of 17</option>
            <option value="19">Best of 19</option>
            <option value="21">Best of 21</option>
            <option value="23">Best of 23</option>
            <option value="25">Best of 25</option>
            <option value="27">Best of 27</option>
            <option value="29">Best of 29</option>
            <option value="31">Best of 31</option>
            <option value="33">Best of 33</option>
            <option value="35">Best of 35</option>
          </select>
        </div>

        <div class="form-actions">
          <button type="button" id="cancel-setup-btn" class="btn btn-secondary">Cancel</button>
          <button type="button" id="start-match-btn" class="btn btn-primary">Start Match</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Match View -->
  <div id="match-view" class="view">
    <div class="container">
      <!-- Match Header -->
      <header id="match-header" class="match-header">
        <div id="frame-info" class="frame-info">Frame 1 | Match: 0 - 0 (Best of 7)</div>
        <div id="timer-display" class="timer-display">0:00</div>
        <button id="start-play-btn" class="btn btn-small btn-primary">‚ñ∂ Start Play</button>
        <button id="pause-btn" class="btn btn-small" style="display: none;">‚è∏ Pause</button>
      </header>

      <!-- Score Display -->
      <div class="score-display">
        <div id="player1-container" class="player-container active">
          <div id="player1-name-display" class="player-name">Player 1</div>
          <div id="player1-score" class="player-score">0</div>
        </div>
        
        <div class="vs-divider">VS</div>
        
        <div id="player2-container" class="player-container">
          <div id="player2-name-display" class="player-name">Player 2</div>
          <div id="player2-score" class="player-score">0</div>
        </div>
      </div>

      <!-- Current Break Display -->
      <div id="current-break" class="current-break">
        <div class="break-info">No break in progress</div>
      </div>

      <!-- Table State -->
      <div id="table-state" class="table-state">
        <div class="table-state-content">
          <span class="table-reds">Reds: 15</span>
          <div class="table-colors"></div>
        </div>
      </div>

      <!-- Shot Input Panel -->
      <div class="shot-input-panel">
        <h3>Record Shot</h3>
        
        <!-- Ball Selector -->
        <div class="ball-selector-container">
          <label>Select Ball to Pot:</label>
          <div id="ball-selector" class="ball-selector">
            <!-- Balls will be dynamically added here -->
          </div>
        </div>

        <!-- Shot Action Buttons -->
        <div class="shot-actions">
          <button id="action-miss-btn" class="btn btn-action btn-miss">Miss</button>
          <button id="action-safety-btn" class="btn btn-action btn-safety">Safety</button>
          <button id="action-foul-btn" class="btn btn-action btn-foul">Foul</button>
        </div>
      </div>

      <!-- Foul Points Dialog (hidden by default) -->
      <div id="foul-dialog" class="foul-dialog" style="display: none;">
        <div class="foul-dialog-content">
          <h3>Foul Points</h3>
          <p>Select foul points awarded to opponent:</p>
          <div class="foul-points-grid">
            <button class="btn btn-foul-points" data-points="4">4</button>
            <button class="btn btn-foul-points" data-points="5">5</button>
            <button class="btn btn-foul-points" data-points="6">6</button>
            <button class="btn btn-foul-points" data-points="7">7</button>
          </div>
          <div class="foul-option">
            <label class="foul-checkbox-label">
              <input type="checkbox" id="foul-play-again">
              <span>Player to play again</span>
            </label>
          </div>
          <div class="foul-option">
            <label class="foul-checkbox-label">
              <input type="checkbox" id="foul-free-ball">
              <span>Free ball awarded</span>
            </label>
          </div>
          <button id="cancel-foul-btn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>

      <!-- Match Actions -->
      <div class="match-actions">
        <button id="undo-shot-btn" class="btn btn-warning">Undo Last Shot</button>
        <button id="end-break-btn" class="btn btn-secondary">End Break</button>
        <button id="end-frame-btn" class="btn btn-secondary">End Frame</button>
        <button id="view-stats-btn" class="btn btn-info">View Stats</button>
        <button id="export-match-btn" class="btn btn-success">Export Match</button>
      </div>
    </div>
  </div>

  <!-- Statistics View -->
  <div id="stats-view" class="view">
    <div class="container">
      <header class="view-header">
        <h2>Match Statistics</h2>
        <div class="header-actions">
          <button id="export-match-btn" class="btn btn-success">Export Match</button>
          <button id="back-to-match-btn" class="btn btn-secondary">Back to Match</button>
        </div>
      </header>

      <div id="stats-content" class="stats-content">
        <!-- Statistics will be dynamically rendered here -->
      </div>
    </div>
  </div>

  <!-- History View -->
  <div id="history-view" class="view">
    <div class="container">
      <header class="view-header">
        <h2>Match History</h2>
        <button id="back-to-home-btn" class="btn btn-secondary">Back to Home</button>
      </header>

      <div id="history-list" class="history-list">
        <!-- History items will be dynamically rendered here -->
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/dataModel.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/statistics.js"></script>
  <script src="js/timer.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>
</body>
</html>